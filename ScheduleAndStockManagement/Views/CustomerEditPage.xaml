<?xml version="1.0" encoding="utf-8" ?>
<ContentPage 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="ScheduleAndStockManagement.Views.CustomerEditPage"
    Title="Edit Customer">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="14">

            <Label Text="Name" FontAttributes="Bold"/>
            <Entry x:Name="NameEntry"
                   Placeholder="Enter customer name"/>

            <Label Text="Phone" FontAttributes="Bold"/>
            <Entry x:Name="PhoneEntry"
                   Placeholder="Enter phone number"
                   Keyboard="Telephone"/>

            <Label Text="Attachments" FontAttributes="Bold"/>
            <Button Text="Add File"
                    Clicked="OnAddFileClicked"/>
            
            <CollectionView x:Name="FilesList"
                            SelectionMode="Single">
                
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Border StrokeThickness="0"
                                BackgroundColor="#2A2A2A"
                                Padding="0">
                            <StackLayout Spacing="0">

                                <Grid ColumnSpacing="10" Padding="5">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="10*" />
                                        <ColumnDefinition Width="2*" />
                                        <ColumnDefinition Width="2*" />
                                    </Grid.ColumnDefinitions>

                                    <Label Text="{Binding FileName}"
                                           FontAttributes="Bold"
                                           Grid.Column="0"/>

                                    <Button Text="View"
                                        Clicked="OnViewFileClicked"
                                        BackgroundColor="DarkBlue"
                                        TextColor="White"
                                        Grid.Column="1"
                                        CommandParameter="{Binding .}"/>

                                    <Button Text="Remove" 
                                            Clicked="OnRemoveFileClicked"
                                            BackgroundColor="DarkRed"
                                            TextColor="White"
                                            Grid.Column="2"
                                            CommandParameter="{Binding .}"/>
                                </Grid>

                                <BoxView HeightRequest="1"
                             BackgroundColor="White"/>
                            </StackLayout>
                        </Border>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

            <Label Text="Added At" FontAttributes="Bold"/>

            <HorizontalStackLayout Spacing="10">
                <DatePicker x:Name="AddedAtDatePicker"/>
                <TimePicker x:Name="AddedAtTimePicker"/>
            </HorizontalStackLayout>

            <Button Text="Save"
                    Clicked="OnSaveClicked"/>

            <Button Text="Delete"
                    Clicked="OnDeleteClicked"
                    BackgroundColor="{StaticResource DangerColor}"
                    TextColor="White"/>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
