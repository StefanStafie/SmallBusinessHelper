<?xml version="1.0" encoding="utf-8" ?>
<ContentPage 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml" xmlns:controls="clr-namespace:ScheduleAndStockManagement.Controls"
    x:Class="ScheduleAndStockManagement.Views.InventoryItemTypesPage"
    Title="Inventory Item Types">

    <Grid RowDefinitions="Auto,*">
        <VerticalStackLayout
            Grid.Row="0"
            Padding="10"
            Spacing="10">

            <Button
                Text="Add Item Type"
                x:Name="AddItemType"
                Clicked="OnAddItemTypeClicked"/>

            <Label Text="Designation" FontAttributes="Bold"/>
            <controls:InventoryTypeSelector SelectedInventoryType="{Binding SelectedInventoryType}" />

            <Grid ColumnSpacing="10" Padding="5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*" />
                    <ColumnDefinition Width="5*" />
                    <ColumnDefinition Width="10*" />
                    <ColumnDefinition Width="5*" />
                </Grid.ColumnDefinitions>

                <Entry Placeholder="Filter Id" x:Name="FilterId" TextChanged="OnFilterChanged" Grid.Column="0"/>
                <Entry Placeholder="Filter Designation" x:Name="FilterDesignation" TextChanged="OnFilterChanged" Grid.Column="1"/>
                <Entry Placeholder="Filter Name" x:Name="FilterName" TextChanged="OnFilterChanged" Grid.Column="2"/>
                <Entry Placeholder="Filter Appointment Type" x:Name="FilterAppointmentType" TextChanged="OnFilterChanged" Grid.Column="3"/>
            </Grid>

            <Grid ColumnSpacing="10" Padding="5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*" />
                    <ColumnDefinition Width="5*" />
                    <ColumnDefinition Width="10*" />
                    <ColumnDefinition Width="5*" />
                </Grid.ColumnDefinitions>

                <Label Text="Id" FontAttributes="Bold" Grid.Column="0"/>
                <Label Text="Designation" FontAttributes="Bold" Grid.Column="1"/>
                <Label Text="Name" FontAttributes="Bold" Grid.Column="2"/>
                <Label Text="Appointment Type" FontAttributes="Bold" Grid.Column="3"/>
            </Grid>

        </VerticalStackLayout>

        <CollectionView
            x:Name="InventoryList"
            Grid.Row="1"
            SelectionMode="Single"
            SelectionChanged="OnItemSelected">

            <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Border
                        StrokeThickness="1"
                        BackgroundColor="{Binding AppointmentType.BackgroundColor}"
                        Padding="0">

                        <Grid ColumnSpacing="10" Padding="5">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="2*" />
                                <ColumnDefinition Width="5*" />
                                <ColumnDefinition Width="10*" />
                                <ColumnDefinition Width="5*" />
                            </Grid.ColumnDefinitions>
                            <Label
                                Text="{Binding Id}"
                                TextColor="{Binding AppointmentType.TextColor}"
                                Grid.Column="0" />
                            
                            <Label
                                Text="{Binding Designation}"
                                TextColor="{Binding AppointmentType.TextColor}"
                                Grid.Column="1" />
                            
                            <Label
                                Text="{Binding Name}"
                                TextColor="{Binding AppointmentType.TextColor}"
                                Grid.Column="2" />

                            <Label
                                Text="{Binding AppointmentType.EventName}"
                                TextColor="{Binding AppointmentType.TextColor}"
                                Grid.Column="3" />
                        </Grid>

                    </Border>
                </DataTemplate>
            </CollectionView.ItemTemplate>

        </CollectionView>

    </Grid>
</ContentPage>
